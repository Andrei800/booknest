<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BookNest - –ß–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫ —Å AI-—Ñ—É–Ω–∫—Ü–∏—è–º–∏">
    <meta name="theme-color" content="#6366f1">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/static/manifest.json">
    <link rel="apple-touch-icon" href="/static/icons/icon-192.png">
    
    <title>üìö BookNest - –ú–æ–π —á–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/static/styles.css?v=8">
</head>
<body>
    <div id="app">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="navbar">
            <div class="navbar-brand">
                <span class="logo">üìö</span>
                <span class="brand-name">BookNest</span>
            </div>
            <div class="navbar-menu">
                <a href="#" class="nav-link active" data-page="books">–ö–Ω–∏–≥–∏</a>
                <a href="#" class="nav-link" data-page="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                <a href="#" class="nav-link" data-page="import">–ò–º–ø–æ—Ä—Ç</a>
            </div>
            <div class="navbar-actions">
                <button class="theme-toggle" id="themeToggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <div class="theme-toggle-track">
                        <span class="sun-icon">‚òÄÔ∏è</span>
                        <span class="moon-icon">üåô</span>
                    </div>
                    <div class="theme-toggle-thumb"></div>
                </button>
                <button class="btn btn-secondary btn-icon" id="scanIsbnBtn" title="–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å ISBN">
                    üì∑
                </button>
                <button class="btn btn-primary" id="addBookBtn">
                    <span>+</span> –î–æ–±–∞–≤–∏—Ç—å
                </button>
            </div>
        </nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–Ω–∏–≥ -->
            <section id="books-page" class="page active">
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="filters-bar">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞–≤—Ç–æ—Ä—É...">
                    </div>
                    <div class="filters">
                        <select id="statusFilter">
                            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                            <option value="planned">üìã –•–æ—á—É –ø—Ä–æ—á–∏—Ç–∞—Ç—å</option>
                            <option value="reading">üìñ –ß–∏—Ç–∞—é</option>
                            <option value="finished">‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ</option>
                            <option value="on_hold">‚è∏Ô∏è –û—Ç–ª–æ–∂–µ–Ω–æ</option>
                            <option value="dropped">‚ùå –ë—Ä–æ—à–µ–Ω–æ</option>
                            <option value="wishlist">üéÅ –•–æ—Ç–µ–ª–∫–∏</option>
                        </select>
                        <select id="formatFilter">
                            <option value="">–í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã</option>
                            <option value="paper">üìï –ë—É–º–∞–∂–Ω–∞—è</option>
                            <option value="ebook">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è</option>
                            <option value="audiobook">üéß –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞</option>
                        </select>
                        <select id="genreFilter">
                            <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                        </select>
                        <select id="sortBy">
                            <option value="created_at">–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</option>
                            <option value="title">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                            <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                            <option value="finished_at">–ü–æ –¥–∞—Ç–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è</option>
                        </select>
                    </div>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="medium" title="–°—Ä–µ–¥–Ω–∏–µ">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="3" y="3" width="8" height="8" rx="1"/>
                                <rect x="13" y="3" width="8" height="8" rx="1"/>
                                <rect x="3" y="13" width="8" height="8" rx="1"/>
                                <rect x="13" y="13" width="8" height="8" rx="1"/>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="small" title="–ú–µ–ª–∫–∏–µ">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="2" y="2" width="5" height="5" rx="1"/>
                                <rect x="9" y="2" width="5" height="5" rx="1"/>
                                <rect x="16" y="2" width="5" height="5" rx="1"/>
                                <rect x="2" y="9" width="5" height="5" rx="1"/>
                                <rect x="9" y="9" width="5" height="5" rx="1"/>
                                <rect x="16" y="9" width="5" height="5" rx="1"/>
                                <rect x="2" y="16" width="5" height="5" rx="1"/>
                                <rect x="9" y="16" width="5" height="5" rx="1"/>
                                <rect x="16" y="16" width="5" height="5" rx="1"/>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="list" title="–°–ø–∏—Å–æ–∫">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="3" y="4" width="18" height="4" rx="1"/>
                                <rect x="3" y="10" width="18" height="4" rx="1"/>
                                <rect x="3" y="16" width="18" height="4" rx="1"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç—É—Å—ã-—Å—á—ë—Ç—á–∏–∫–∏ -->
                <div class="status-cards">
                    <div class="status-card" data-status="">
                        <span class="status-icon">üìö</span>
                        <span class="status-count" id="totalCount">0</span>
                        <span class="status-label">–í—Å–µ–≥–æ</span>
                    </div>
                    <div class="status-card" data-status="reading">
                        <span class="status-icon">üìñ</span>
                        <span class="status-count" id="readingCount">0</span>
                        <span class="status-label">–ß–∏—Ç–∞—é</span>
                    </div>
                    <div class="status-card" data-status="finished">
                        <span class="status-icon">‚úÖ</span>
                        <span class="status-count" id="finishedCount">0</span>
                        <span class="status-label">–ü—Ä–æ—á–∏—Ç–∞–Ω–æ</span>
                    </div>
                    <div class="status-card" data-status="wishlist">
                        <span class="status-icon">üéÅ</span>
                        <span class="status-count" id="wishlistCount">0</span>
                        <span class="status-label">–•–æ—Ç–µ–ª–∫–∏</span>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ -->
                <div class="books-grid" id="booksGrid">
                    <!-- –ö–Ω–∏–≥–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>

                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div class="pagination" id="pagination"></div>
            </section>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <section id="stats-page" class="page">
                <div class="stats-container">
                    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á—Ç–µ–Ω–∏—è</h2>
                    
                    <div class="stats-overview">
                        <div class="stat-card">
                            <div class="stat-value" id="statTotalBooks">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –∫–Ω–∏–≥</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statFinishedBooks">0</div>
                            <div class="stat-label">–ü—Ä–æ—á–∏—Ç–∞–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statPagesRead">0</div>
                            <div class="stat-label">–°—Ç—Ä–∞–Ω–∏—Ü</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statAvgRating">-</div>
                            <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞</div>
                        </div>
                    </div>

                    <div class="stats-sections">
                        <div class="stats-section">
                            <h3>üèÜ –¢–æ–ø –∞–≤—Ç–æ—Ä—ã</h3>
                            <div id="topAuthors" class="top-list"></div>
                        </div>
                        <div class="stats-section">
                            <h3>üìö –¢–æ–ø –∂–∞–Ω—Ä—ã</h3>
                            <div id="topGenres" class="top-list"></div>
                        </div>
                    </div>

                    <div class="reading-challenge">
                        <h3>üéØ –¶–µ–ª—å –Ω–∞ –≥–æ–¥</h3>
                        <div class="challenge-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="challengeProgress"></div>
                            </div>
                            <span id="challengeText">0 / 12 –∫–Ω–∏–≥</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–ø–æ—Ä—Ç–∞ -->
            <section id="import-page" class="page">
                <div class="import-container">
                    <h2>üì• –ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç</h2>
                    
                    <div class="import-section">
                        <h3>üì± –ò–º–ø–æ—Ä—Ç –∏–∑ Book Tracker</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Book Tracker</p>
                        <div class="import-dropzone" id="dropzoneBookTracker">
                            <input type="file" id="fileInputBookTracker" accept=".csv" hidden>
                            <span class="dropzone-icon">üì±</span>
                            <span class="dropzone-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ CSV –∏–∑ Book Tracker</span>
                            <span class="dropzone-hint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ Book Tracker</span>
                        </div>
                    </div>

                    <div class="import-section">
                        <h3>üìÅ –ò–º–ø–æ—Ä—Ç –∏–∑ —Ñ–∞–π–ª–∞ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV –∏–ª–∏ JSON —Ñ–∞–π–ª –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ</p>
                        <div class="import-dropzone" id="dropzone">
                            <input type="file" id="fileInput" accept=".csv,.json" hidden>
                            <span class="dropzone-icon">üìÅ</span>
                            <span class="dropzone-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</span>
                            <span class="dropzone-hint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: CSV, JSON</span>
                        </div>
                        <a href="/api/import-export/template/csv" class="btn btn-secondary">
                            üìÑ –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω CSV
                        </a>
                    </div>

                    <div class="export-section">
                        <h3>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
                        <p>–°–∫–∞—á–∞–π—Ç–µ –≤—Å–µ –≤–∞—à–∏ –∫–Ω–∏–≥–∏ –¥–ª—è –±—ç–∫–∞–ø–∞</p>
                        <div class="export-buttons">
                            <a href="/api/import-export/export/csv" class="btn btn-secondary">
                                üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
                            </a>
                            <a href="/api/import-export/export/json" class="btn btn-secondary">
                                üìã –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
                            </a>
                            <a href="/api/import-export/export/pdf" class="btn btn-primary">
                                üìï –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
                            </a>
                        </div>
                    </div>

                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞ -->
                    <div class="import-result" id="importResult" style="display: none;">
                        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞</h3>
                        <div class="result-stats">
                            <span class="result-success">‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ: <strong id="importSuccess">0</strong></span>
                            <span class="result-skipped">‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ: <strong id="importSkipped">0</strong></span>
                            <span class="result-failed">‚ùå –û—à–∏–±–æ–∫: <strong id="importFailed">0</strong></span>
                        </div>
                        <div class="result-errors" id="importErrors"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∏ -->
        <div class="modal" id="bookModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</h2>
                    <button class="modal-close" id="closeModal">&times;</button>
                </div>
                <form id="bookForm">
                    <input type="hidden" id="bookId">
                    
                    <div class="form-row">
                        <div class="form-group flex-2">
                            <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                            <input type="text" id="title" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="authors">–ê–≤—Ç–æ—Ä—ã</label>
                            <input type="text" id="authors" placeholder="–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                        </div>
                        <div class="form-group">
                            <label for="genres">–ñ–∞–Ω—Ä—ã</label>
                            <input type="text" id="genres" placeholder="–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="isbn">ISBN</label>
                            <input type="text" id="isbn" placeholder="978-...">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="status">–°—Ç–∞—Ç—É—Å</label>
                            <select id="status">
                                <option value="planned">üìã –•–æ—á—É –ø—Ä–æ—á–∏—Ç–∞—Ç—å</option>
                                <option value="reading">üìñ –ß–∏—Ç–∞—é</option>
                                <option value="finished">‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ</option>
                                <option value="on_hold">‚è∏Ô∏è –û—Ç–ª–æ–∂–µ–Ω–æ</option>
                                <option value="dropped">‚ùå –ë—Ä–æ—à–µ–Ω–æ</option>
                                <option value="wishlist">üéÅ –•–æ—Ç–µ–ª–∫–∏</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="format">–§–æ—Ä–º–∞—Ç</label>
                            <select id="format">
                                <option value="paper">üìï –ë—É–º–∞–∂–Ω–∞—è</option>
                                <option value="ebook">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è</option>
                                <option value="audiobook">üéß –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="language">–Ø–∑—ã–∫</label>
                            <select id="language">
                                <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                                <option value="en">üá¨üáß English</option>
                                <option value="uk">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
                                <option value="other">–î—Ä—É–≥–æ–π</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="totalPages">–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü</label>
                            <input type="number" id="totalPages" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="currentPage">–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</label>
                            <input type="number" id="currentPage" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="rating">–û—Ü–µ–Ω–∫–∞ (1-10)</label>
                            <input type="number" id="rating" min="1" max="10" placeholder="-">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group flex-2">
                            <label for="location">–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="location" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–ª–∫–∞ 3, –∫–æ—Ä–æ–±–∫–∞ –Ω–∞ –±–∞–ª–∫–æ–Ω–µ">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group flex-2">
                            <label for="notes">–ó–∞–º–µ—Ç–∫–∏</label>
                            <textarea id="notes" rows="3" placeholder="–í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏ –æ –∫–Ω–∏–≥–µ..."></textarea>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoFetchCover" checked>
                                üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–∞—Ç—å –æ–±–ª–æ–∂–∫—É
                            </label>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–Ω–∏–≥–∏ -->
        <div class="modal" id="viewModal">
            <div class="modal-content modal-large">
                <button class="modal-close" id="closeViewModal">&times;</button>
                <div id="bookDetails"></div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –æ–±–ª–æ–∂–∫–∏ -->
        <div class="modal" id="coverModal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>üñºÔ∏è –í—ã–±–æ—Ä –æ–±–ª–æ–∂–∫–∏</h2>
                    <button class="modal-close" id="closeCoverModal">&times;</button>
                </div>
                <div class="cover-modal-body">
                    <div class="cover-search-form">
                        <input type="text" id="coverSearchTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏">
                        <input type="text" id="coverSearchAuthor" placeholder="–ê–≤—Ç–æ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
                        <button class="btn btn-primary" id="searchCoversBtn">üîç –ù–∞–π—Ç–∏</button>
                    </div>
                    
                    <div class="cover-loading" id="coverLoading" style="display: none;">
                        <div class="spinner"></div>
                        <span>–ü–æ–∏—Å–∫ –æ–±–ª–æ–∂–µ–∫...</span>
                    </div>
                    
                    <div class="covers-grid" id="coversGrid"></div>
                    
                    <div class="cover-url-form">
                        <input type="text" id="customCoverUrl" placeholder="–ò–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ URL –æ–±–ª–æ–∂–∫–∏ –Ω–∞–ø—Ä—è–º—É—é...">
                    </div>
                    
                    <div class="cover-modal-footer">
                        <button class="btn btn-secondary" onclick="closeCoverModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button class="btn btn-primary" id="applyCoverBtn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–±–ª–æ–∂–∫—É</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–∫–∞–Ω–µ—Ä–∞ ISBN -->
        <div class="modal" id="scanModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üì∑ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ISBN</h2>
                    <button class="modal-close" id="closeScanModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="scan-container">
                        <video id="scanVideo" playsinline></video>
                        <div class="scan-overlay">
                            <div class="scan-frame"></div>
                        </div>
                    </div>
                    <div class="scan-status" id="scanStatus">
                        –ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ —à—Ç—Ä–∏—Ö-–∫–æ–¥ –∫–Ω–∏–≥–∏
                    </div>
                    <div class="scan-manual">
                        <p>–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ ISBN –≤—Ä—É—á–Ω—É—é:</p>
                        <div class="scan-input-row">
                            <input type="text" id="manualIsbn" placeholder="978-3-16-148410-0">
                            <button class="btn btn-primary" id="searchIsbnBtn">–ù–∞–π—Ç–∏</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
        <div class="modal" id="aiModal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>ü§ñ AI –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                    <button class="modal-close" id="closeAiModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="ai-loading" id="aiLoading">
                        <div class="spinner"></div>
                        <span>AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–Ω–∏–≥—É...</span>
                    </div>
                    <div class="ai-result" id="aiResult" style="display: none;">
                        <div class="ai-summary" id="aiSummary"></div>
                        <div class="ai-recommendations" id="aiRecommendations"></div>
                    </div>
                    <div class="ai-error" id="aiError" style="display: none;"></div>
                </div>
            </div>
        </div>

    </div>
    
    <!-- Toast –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤ -->
    <script src="https://unpkg.com/@ericblade/quagga2@1.8.4/dist/quagga.min.js"></script>
    
    <!-- JavaScript -->
    <script src="/static/app.js?v=7"></script>
</body>
</html>